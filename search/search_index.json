{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bem-vinde \u00e0 documenta\u00e7\u00e3o do Escrit\u00f3rio de Dados Rio! Aqui, voc\u00ea encontrar\u00e1 um reposit\u00f3rio colaborativo de informa\u00e7\u00f5es para ajudar voc\u00ea a fazer o melhor uso de todos os recursos que podemos oferecer. Sinta-se \u00e0 vontade para navegar. Na aba de navega\u00e7\u00e3o, voc\u00ea ver\u00e1 algumas op\u00e7\u00f5es: Home : voc\u00ea est\u00e1 aqui! \ud83c\udf89 Tutoriais : guias auxiliares para garantir que todos possam usar de nossos recursos \ud83e\udd13 Contato : v\u00e1rios meios para entrar em contato com a equipe do Escrit\u00f3rio de Dados Rio! \ud83e\udd17 Abaixo, voc\u00ea encontra nossas m\u00eddias sociais. Venha interagir com nossa comunidade!","title":"Home"},{"location":"#bem-vinde-a-documentacao-do-escritorio-de-dados-rio","text":"Aqui, voc\u00ea encontrar\u00e1 um reposit\u00f3rio colaborativo de informa\u00e7\u00f5es para ajudar voc\u00ea a fazer o melhor uso de todos os recursos que podemos oferecer. Sinta-se \u00e0 vontade para navegar. Na aba de navega\u00e7\u00e3o, voc\u00ea ver\u00e1 algumas op\u00e7\u00f5es: Home : voc\u00ea est\u00e1 aqui! \ud83c\udf89 Tutoriais : guias auxiliares para garantir que todos possam usar de nossos recursos \ud83e\udd13 Contato : v\u00e1rios meios para entrar em contato com a equipe do Escrit\u00f3rio de Dados Rio! \ud83e\udd17 Abaixo, voc\u00ea encontra nossas m\u00eddias sociais. Venha interagir com nossa comunidade!","title":"Bem-vinde \u00e0 documenta\u00e7\u00e3o do Escrit\u00f3rio de Dados Rio!"},{"location":"contato/","text":"Entre em contato conosco! Twitter Discord GitHub E-mail","title":"Contato"},{"location":"contato/#entre-em-contato-conosco","text":"Twitter Discord GitHub E-mail","title":"Entre em contato conosco!"},{"location":"tutoriais/como-acessar-dados/","text":"Ol\u00e1! Quer acessar dados do data lake? Beleza! Esse guia tem como objetivo cobrir diversos cen\u00e1rios de acesso a eles. Mas, para isso, deixo aqui algumas perguntas e redirecionamentos que podem te ajudar: Ainda n\u00e3o sabe qual dado quer acessar? \u2192 Sem problemas! Vamos para a se\u00e7\u00e3o Como buscar dados . J\u00e1 escolheu o dado no data.rio e quer acess\u00e1-lo via download? \u2192 Excelente! Basta clicar no link, ele far\u00e1 o download do arquivo. Se ele n\u00e3o estiver dispon\u00edvel, entre em contato conosco , ser\u00e1 um prazer te ajudar. J\u00e1 escolheu o dado no data.rio e quer acess\u00e1-lo via BigQuery/Python/R/PowerBI? \u2192 Sensacional! Caso ainda n\u00e3o tenha uma conta na GCP e um projeto configurado, siga para a se\u00e7\u00e3o Como criar uma conta na GCP . Se j\u00e1 tiver, melhor ainda! Basta olhar aqui ao lado, no menu de navega\u00e7\u00e3o, a se\u00e7\u00e3o que melhor se encaixa com suas necessidades. Seu caso n\u00e3o se encaixa em nenhum acima? \u2192 Poxa! Vamos trabalhar juntos para melhorar o acesso aos dados! Entre em contato conosco , vamos entender sua demanda e te ajudar! \ud83e\udd17 Como buscar dados Conhecendo o data.rio Voc\u00ea ainda n\u00e3o conhece o data.rio ? \ud83e\udd2f O data.rio \u00e9 o portal de dados abertos da Prefeitura do Rio de Janeiro. Ele \u00e9 estruturado e mantido pelo Instituto Pereira Passos. N\u00f3s, como Escrit\u00f3rio de Dados, em parceria, disponibilizamos os dados do data lake l\u00e1 tamb\u00e9m! \ud83e\udd29 Tome um tempo para navegar pelo site e conhecer os dados dispon\u00edveis! Identificando dados do data lake Na p\u00e1gina de pesquisa do data.rio, voc\u00ea poder\u00e1 buscar por dados das mais diversas formas. Ao acess\u00e1-la, voc\u00ea deve encontrar algo assim: Rolando a p\u00e1gina, ao lado esquerdo, voc\u00ea ver\u00e1 um campo \"Tags\". Ali, voc\u00ea pode utilizar a tag escritorio_de_dados para encontrar os dados do data lake! Ent\u00e3o voc\u00ea pode escolher o dado que quiser ali e, ao clicar, voc\u00ea vai se deparar com uma p\u00e1gina semelhante \u00e0 seguinte: Ali tem tudo que voc\u00ea precisa saber sobre o dado e diversas maneiras de acess\u00e1-lo! \ud83d\udca5 Como criar uma conta na GCP Requisitos Ter uma conta Google v\u00e1lida (um Gmail, por exemplo) Cart\u00e3o de cr\u00e9dito (apesar de ser necess\u00e1rio, a GCP prov\u00ea 1TB de consumo de dados gratuitamente todo m\u00eas, dentre outras coisas. Para mais informa\u00e7\u00f5es, veja refer\u00eancias ) Criando uma conta V\u00e1 ao GCP Console e clique no bot\u00e3o \"Comece a usar gratuitamente\", na barra superior direita Fa\u00e7a login com sua conta Google Preencha as informa\u00e7\u00f5es necess\u00e1rias para cadastro, incluindo os dados do cart\u00e3o de cr\u00e9dito Quando chegar na etapa de verifica\u00e7\u00e3o de informa\u00e7\u00f5es de pagamento, clique em \"Prosseguir para a verifica\u00e7\u00e3o\" A aprova\u00e7\u00e3o dos documentos pode levar at\u00e9 2 dias \u00fateis. Criando um projeto Para consumir dados via Google BigQuery, ser\u00e1 necess\u00e1rio criar um projeto na GCP. Para faz\u00ea-lo, siga as seguintes etapas: V\u00e1 ao GCP Console e clique no bot\u00e3o \"Selecione um projeto\" Clique na op\u00e7\u00e3o \"Novo projeto\" Preencha o nome e o ID do projeto. Por quest\u00f5es de organiza\u00e7\u00e3o, sugerimos que o ID do projeto seja o mesmo do nome do projeto. Ambos devem ter h\u00edfens ( - ) no lugar de espa\u00e7os. Clique em \"Criar\". Voc\u00ea ser\u00e1 redirecionado para a p\u00e1gina inicial do console da GCP. Quando o projeto tiver sido criado, clique em \"Selecionar projeto\". Parab\u00e9ns! Voc\u00ea j\u00e1 pode usar o Google BigQuery! \ud83c\udf89 Acessando dados via BigQuery Com sua conta da GCP devidamente configurada, voc\u00ea pode acessar dados via BigQuery. Vamos l\u00e1! Adicionando o projeto do Escrit\u00f3rio de Dados No GCP Console , verifique se voc\u00ea est\u00e1 com o projeto correto selecionado e, em seguida, clique no \u00edcone de hamburgu\u00e9r. Procure, na lista, o servi\u00e7o \"BigQuery\". Passe o mouse por cima e selecione \"Espa\u00e7o de trabalho SQL\". \ud83c\udd98 Se tiver dificuldade em encontrar o BigQuery, pode procurar por ele na barra de pesquisa l\u00e1 em cima!. O console do BigQuery ser\u00e1 aberto. Ao lado esquerdo, voc\u00ea ver\u00e1 todos os projetos que voc\u00ea possui acesso. Ao lado direito, h\u00e1 um campo de texto para executar queries. Na barra Explorer , clique em \"+ Adicionar dados\" para adicionar novos projetos. Depois, clique em \"Pin a project\" e \"Search for project\". Em seguida, procure pelo projeto datario , que se refere aos dados disponibilizados pela equipe do Escrit\u00f3rio de Dados Rio. Ao encontrar, clique em \"Abrir\". Agora o projeto datario estar\u00e1 aparecendo em sua aba \"Explorer\". Ao navegar por ele, ver\u00e1 algo semelhante ao seguinte: Navegando pelos dados Aqui, voc\u00ea pode selecionar qualquer tabela, clicar nos pontinhos verticais e \"Open\". Assim, ser\u00e3o exibidas as propriedades dessa tabela. Na aba \"Schema\", ser\u00e1 mostrado o nome de cada coluna, seu tipo e descri\u00e7\u00e3o. J\u00e1 na aba \"Detalhes\", haver\u00e1 informa\u00e7\u00e3o sobre o tamanho da tabela, n\u00famero de linhas, datas de cria\u00e7\u00e3o e atualiza\u00e7\u00e3o, etc. Por fim, na aba \"Preview\", aparecer\u00e3o alguns dados contidos nessa tabela. Fazendo sua primeira query e usando os resultados Pode-se fazer uma query nessa tabela clicando em \"Query\" ou nos tr\u00eas pontinhos verticais e escolhendo \"Query\". Em ambas as formas, ser\u00e1 gerada uma query b\u00e1sica para a tabela. Para executar a query, basta clicar em \"Run\" ou pressionar Ctrl + Enter. Os resultados ser\u00e3o exibidos como na imagem acima. Ao final, com os resultados da query que desejamos, podemos fazer coisas legais! \ud83e\udd13 \u00c9 poss\u00edvel, por exemplo: Baixar ou salvar os resultados clicando em \"Save results\". Salvar a query ou criar uma view com ela para utilizar depois, clicando em \"Save\", ao lado de \"Run\". Fazer gr\u00e1ficos e dashboards com os resultados, clicando em \"Explore data\". Criar um schedule para executar essa mesma query em intervalos de tempo definidos, clicando em \"Schedule\". E \u00e9 isso! Agora \u00e9 hora de voar! \ud83d\ude80 Acessando dados via Python Ent\u00e3o voc\u00ea quer acessar os dados diretamente via Python? A gente te d\u00e1 uma for\u00e7a! \ud83d\udc68\u200d\ud83d\udcbb Requisitos Python 3.6 ou superior basedosdados (instale com pip install basedosdados ) Fazendo uma query A seguir, vamos consultar dados da maneira mais simples poss\u00edvel. Se liga s\u00f3 nesse snippet curtinho mas SUPER poderoso \ud83d\udcaa: import basedosdados as bd query = \"SELECT * FROM `datario.educacao_basica.aluno` LIMIT 10\" df = bd . read_sql ( query , billing_project_id = \"<id-do-seu-projeto>\" ) Importante: note que esse billing_project_id deve corresponder ao ID do seu projeto na GCP, N\u00c3O ao nome do projeto. No caso da imagem abaixo, seria \"primeiro-projeto-350017\" Quando voc\u00ea executar esse snippet, ser\u00e1 solicitada a autentica\u00e7\u00e3o com sua conta Google: E assim que autorizar, voc\u00ea vai ter seu dado lindo de bonito j\u00e1 em um DataFrame do Pandas ! \u00c9 pura magia \ud83e\ude84 Acessando dados via R A basedosdados possui um guia excelente de como acessar dados do BigQuery via R. Voc\u00ea pode acess\u00e1-lo aqui ! Acessando dados via PowerBI A documenta\u00e7\u00e3o oficial da Microsoft possui um guia excelente de como acessar dados do BigQuery via PowerBI. Voc\u00ea pode acess\u00e1-lo aqui ! Dicas para reduzir o custo de uma query no GCP 1 - Evite SELECT * Para contornar o uso do SELECT * voc\u00ea pode: Escrever apenas os nomes das colunas que deseja como retorno. Ex: SELECT id_aluno, turma, situacao FROM datario.educacao_basica.aluno Excluir algumas colunas com o uso do EXCEPT . Ex: SELECT * EXCEPT(id_aluno, turma, situacao) FROM datario.educacao_basica.aluno 2 - Espiar como s\u00e3o os dados \ud83d\udd75\ud83c\udffd\u200d\u2640\ufe0f Para olhar como s\u00e3o os dados voc\u00ea pode: Clicar nos pontinhos verticais e \"Open\". E depois selecionar a aba \"Preview\" para visualizar algumas linhas dessa tabela. Dessa forma, voc\u00ea consegue visualizar dados gratuitamente e sem afetar sua cota mensal \ud83e\udd29. 3 - Filtrar a parti\u00e7\u00e3o Se a tabela for particionada, opte por filtr\u00e1-la utilizando a coluna de parti\u00e7\u00e3o. Voc\u00ea pode descobrir se a tabela \u00e9 particionada seguindo o mesmo passo anterior, mas selecionando a aba \"Detalhes\" e procurando o termo \u201cParticionada no campo \u201c. Como vimos na imagem acima, a tabela datario.meio_ambiente_clima.quantidade_agua_precipitavel_satelite \u00e9 particionada pela coluna data_particao . Vamos ver um exemplo de como \u00e9 importante filtrarmos nossas consultas considerando a coluna de parti\u00e7\u00e3o: Suponha que queremos obter todos os valores da quantidade de \u00e1gua precipit\u00e1vel para latitudes menores que -22.0\u00ba e considerando apenas dados obtidos \u00e0 1h da manh\u00e3. Se adicionarmos no filtro a nossa coluna de parti\u00e7\u00e3o, o GCP nos avisa que a query processar\u00e1 83.24MB. Se removermos da nossa query o filtro da parti\u00e7\u00e3o o GCP processar\u00e1 13.37GB! Bem mais do que a query anterior \ud83e\udd2f! Voc\u00ea pode estar pensando \ud83e\udd14: \u201cClaro que a query consumir\u00e1 mais! Voc\u00ea tem um filtro a menos nessa query.\u201d Para rebater essa cr\u00edtica vamos comparar a query anterior com uma sem filtro nenhum: Nesse caso, o CGP ir\u00e1 processar a mesma quantidade de GB que a query em que n\u00e3o utilizamos a coluna de parti\u00e7\u00e3o \ud83e\udd13! Ent\u00e3o lembre-se: sempre use a coluna de parti\u00e7\u00e3o quando sua tabela permitir \ud83d\ude09! 4 - JOIN Para melhorar a efici\u00eancia dos JOIN podemos: reduzir a quantidade de dados das tabelas antes de uma cl\u00e1usula JOIN. Quanto antes reduzirmos a quantidade de dados, menos processamento iremos exigir. sempre que poss\u00edvel, utilize colunas de inteiros para realizar o join entre tabelas. Refer\u00eancias Documenta\u00e7\u00e3o oficial da GCP Cota gratuita da GCP Documenta\u00e7\u00e3o oficial do BigQuery Melhores pr\u00e1ticas para reduzir custos Documenta\u00e7\u00e3o oficial da basedosdados","title":"Como acessar dados no data lake"},{"location":"tutoriais/como-acessar-dados/#como-buscar-dados","text":"","title":"Como buscar dados"},{"location":"tutoriais/como-acessar-dados/#conhecendo-o-datario","text":"Voc\u00ea ainda n\u00e3o conhece o data.rio ? \ud83e\udd2f O data.rio \u00e9 o portal de dados abertos da Prefeitura do Rio de Janeiro. Ele \u00e9 estruturado e mantido pelo Instituto Pereira Passos. N\u00f3s, como Escrit\u00f3rio de Dados, em parceria, disponibilizamos os dados do data lake l\u00e1 tamb\u00e9m! \ud83e\udd29 Tome um tempo para navegar pelo site e conhecer os dados dispon\u00edveis!","title":"Conhecendo o data.rio"},{"location":"tutoriais/como-acessar-dados/#identificando-dados-do-data-lake","text":"Na p\u00e1gina de pesquisa do data.rio, voc\u00ea poder\u00e1 buscar por dados das mais diversas formas. Ao acess\u00e1-la, voc\u00ea deve encontrar algo assim: Rolando a p\u00e1gina, ao lado esquerdo, voc\u00ea ver\u00e1 um campo \"Tags\". Ali, voc\u00ea pode utilizar a tag escritorio_de_dados para encontrar os dados do data lake! Ent\u00e3o voc\u00ea pode escolher o dado que quiser ali e, ao clicar, voc\u00ea vai se deparar com uma p\u00e1gina semelhante \u00e0 seguinte: Ali tem tudo que voc\u00ea precisa saber sobre o dado e diversas maneiras de acess\u00e1-lo! \ud83d\udca5","title":"Identificando dados do data lake"},{"location":"tutoriais/como-acessar-dados/#como-criar-uma-conta-na-gcp","text":"","title":"Como criar uma conta na GCP"},{"location":"tutoriais/como-acessar-dados/#requisitos","text":"Ter uma conta Google v\u00e1lida (um Gmail, por exemplo) Cart\u00e3o de cr\u00e9dito (apesar de ser necess\u00e1rio, a GCP prov\u00ea 1TB de consumo de dados gratuitamente todo m\u00eas, dentre outras coisas. Para mais informa\u00e7\u00f5es, veja refer\u00eancias )","title":"Requisitos"},{"location":"tutoriais/como-acessar-dados/#criando-uma-conta","text":"V\u00e1 ao GCP Console e clique no bot\u00e3o \"Comece a usar gratuitamente\", na barra superior direita Fa\u00e7a login com sua conta Google Preencha as informa\u00e7\u00f5es necess\u00e1rias para cadastro, incluindo os dados do cart\u00e3o de cr\u00e9dito Quando chegar na etapa de verifica\u00e7\u00e3o de informa\u00e7\u00f5es de pagamento, clique em \"Prosseguir para a verifica\u00e7\u00e3o\" A aprova\u00e7\u00e3o dos documentos pode levar at\u00e9 2 dias \u00fateis.","title":"Criando uma conta"},{"location":"tutoriais/como-acessar-dados/#criando-um-projeto","text":"Para consumir dados via Google BigQuery, ser\u00e1 necess\u00e1rio criar um projeto na GCP. Para faz\u00ea-lo, siga as seguintes etapas: V\u00e1 ao GCP Console e clique no bot\u00e3o \"Selecione um projeto\" Clique na op\u00e7\u00e3o \"Novo projeto\" Preencha o nome e o ID do projeto. Por quest\u00f5es de organiza\u00e7\u00e3o, sugerimos que o ID do projeto seja o mesmo do nome do projeto. Ambos devem ter h\u00edfens ( - ) no lugar de espa\u00e7os. Clique em \"Criar\". Voc\u00ea ser\u00e1 redirecionado para a p\u00e1gina inicial do console da GCP. Quando o projeto tiver sido criado, clique em \"Selecionar projeto\". Parab\u00e9ns! Voc\u00ea j\u00e1 pode usar o Google BigQuery! \ud83c\udf89","title":"Criando um projeto"},{"location":"tutoriais/como-acessar-dados/#acessando-dados-via-bigquery","text":"Com sua conta da GCP devidamente configurada, voc\u00ea pode acessar dados via BigQuery. Vamos l\u00e1!","title":"Acessando dados via BigQuery"},{"location":"tutoriais/como-acessar-dados/#adicionando-o-projeto-do-escritorio-de-dados","text":"No GCP Console , verifique se voc\u00ea est\u00e1 com o projeto correto selecionado e, em seguida, clique no \u00edcone de hamburgu\u00e9r. Procure, na lista, o servi\u00e7o \"BigQuery\". Passe o mouse por cima e selecione \"Espa\u00e7o de trabalho SQL\". \ud83c\udd98 Se tiver dificuldade em encontrar o BigQuery, pode procurar por ele na barra de pesquisa l\u00e1 em cima!. O console do BigQuery ser\u00e1 aberto. Ao lado esquerdo, voc\u00ea ver\u00e1 todos os projetos que voc\u00ea possui acesso. Ao lado direito, h\u00e1 um campo de texto para executar queries. Na barra Explorer , clique em \"+ Adicionar dados\" para adicionar novos projetos. Depois, clique em \"Pin a project\" e \"Search for project\". Em seguida, procure pelo projeto datario , que se refere aos dados disponibilizados pela equipe do Escrit\u00f3rio de Dados Rio. Ao encontrar, clique em \"Abrir\". Agora o projeto datario estar\u00e1 aparecendo em sua aba \"Explorer\". Ao navegar por ele, ver\u00e1 algo semelhante ao seguinte:","title":"Adicionando o projeto do Escrit\u00f3rio de Dados"},{"location":"tutoriais/como-acessar-dados/#navegando-pelos-dados","text":"Aqui, voc\u00ea pode selecionar qualquer tabela, clicar nos pontinhos verticais e \"Open\". Assim, ser\u00e3o exibidas as propriedades dessa tabela. Na aba \"Schema\", ser\u00e1 mostrado o nome de cada coluna, seu tipo e descri\u00e7\u00e3o. J\u00e1 na aba \"Detalhes\", haver\u00e1 informa\u00e7\u00e3o sobre o tamanho da tabela, n\u00famero de linhas, datas de cria\u00e7\u00e3o e atualiza\u00e7\u00e3o, etc. Por fim, na aba \"Preview\", aparecer\u00e3o alguns dados contidos nessa tabela.","title":"Navegando pelos dados"},{"location":"tutoriais/como-acessar-dados/#fazendo-sua-primeira-query-e-usando-os-resultados","text":"Pode-se fazer uma query nessa tabela clicando em \"Query\" ou nos tr\u00eas pontinhos verticais e escolhendo \"Query\". Em ambas as formas, ser\u00e1 gerada uma query b\u00e1sica para a tabela. Para executar a query, basta clicar em \"Run\" ou pressionar Ctrl + Enter. Os resultados ser\u00e3o exibidos como na imagem acima. Ao final, com os resultados da query que desejamos, podemos fazer coisas legais! \ud83e\udd13 \u00c9 poss\u00edvel, por exemplo: Baixar ou salvar os resultados clicando em \"Save results\". Salvar a query ou criar uma view com ela para utilizar depois, clicando em \"Save\", ao lado de \"Run\". Fazer gr\u00e1ficos e dashboards com os resultados, clicando em \"Explore data\". Criar um schedule para executar essa mesma query em intervalos de tempo definidos, clicando em \"Schedule\". E \u00e9 isso! Agora \u00e9 hora de voar! \ud83d\ude80","title":"Fazendo sua primeira query e usando os resultados"},{"location":"tutoriais/como-acessar-dados/#acessando-dados-via-python","text":"Ent\u00e3o voc\u00ea quer acessar os dados diretamente via Python? A gente te d\u00e1 uma for\u00e7a! \ud83d\udc68\u200d\ud83d\udcbb","title":"Acessando dados via Python"},{"location":"tutoriais/como-acessar-dados/#requisitos_1","text":"Python 3.6 ou superior basedosdados (instale com pip install basedosdados )","title":"Requisitos"},{"location":"tutoriais/como-acessar-dados/#fazendo-uma-query","text":"A seguir, vamos consultar dados da maneira mais simples poss\u00edvel. Se liga s\u00f3 nesse snippet curtinho mas SUPER poderoso \ud83d\udcaa: import basedosdados as bd query = \"SELECT * FROM `datario.educacao_basica.aluno` LIMIT 10\" df = bd . read_sql ( query , billing_project_id = \"<id-do-seu-projeto>\" ) Importante: note que esse billing_project_id deve corresponder ao ID do seu projeto na GCP, N\u00c3O ao nome do projeto. No caso da imagem abaixo, seria \"primeiro-projeto-350017\" Quando voc\u00ea executar esse snippet, ser\u00e1 solicitada a autentica\u00e7\u00e3o com sua conta Google: E assim que autorizar, voc\u00ea vai ter seu dado lindo de bonito j\u00e1 em um DataFrame do Pandas ! \u00c9 pura magia \ud83e\ude84","title":"Fazendo uma query"},{"location":"tutoriais/como-acessar-dados/#acessando-dados-via-r","text":"A basedosdados possui um guia excelente de como acessar dados do BigQuery via R. Voc\u00ea pode acess\u00e1-lo aqui !","title":"Acessando dados via R"},{"location":"tutoriais/como-acessar-dados/#acessando-dados-via-powerbi","text":"A documenta\u00e7\u00e3o oficial da Microsoft possui um guia excelente de como acessar dados do BigQuery via PowerBI. Voc\u00ea pode acess\u00e1-lo aqui !","title":"Acessando dados via PowerBI"},{"location":"tutoriais/como-acessar-dados/#dicas-para-reduzir-o-custo-de-uma-query-no-gcp","text":"1 - Evite SELECT * Para contornar o uso do SELECT * voc\u00ea pode: Escrever apenas os nomes das colunas que deseja como retorno. Ex: SELECT id_aluno, turma, situacao FROM datario.educacao_basica.aluno Excluir algumas colunas com o uso do EXCEPT . Ex: SELECT * EXCEPT(id_aluno, turma, situacao) FROM datario.educacao_basica.aluno 2 - Espiar como s\u00e3o os dados \ud83d\udd75\ud83c\udffd\u200d\u2640\ufe0f Para olhar como s\u00e3o os dados voc\u00ea pode: Clicar nos pontinhos verticais e \"Open\". E depois selecionar a aba \"Preview\" para visualizar algumas linhas dessa tabela. Dessa forma, voc\u00ea consegue visualizar dados gratuitamente e sem afetar sua cota mensal \ud83e\udd29. 3 - Filtrar a parti\u00e7\u00e3o Se a tabela for particionada, opte por filtr\u00e1-la utilizando a coluna de parti\u00e7\u00e3o. Voc\u00ea pode descobrir se a tabela \u00e9 particionada seguindo o mesmo passo anterior, mas selecionando a aba \"Detalhes\" e procurando o termo \u201cParticionada no campo \u201c. Como vimos na imagem acima, a tabela datario.meio_ambiente_clima.quantidade_agua_precipitavel_satelite \u00e9 particionada pela coluna data_particao . Vamos ver um exemplo de como \u00e9 importante filtrarmos nossas consultas considerando a coluna de parti\u00e7\u00e3o: Suponha que queremos obter todos os valores da quantidade de \u00e1gua precipit\u00e1vel para latitudes menores que -22.0\u00ba e considerando apenas dados obtidos \u00e0 1h da manh\u00e3. Se adicionarmos no filtro a nossa coluna de parti\u00e7\u00e3o, o GCP nos avisa que a query processar\u00e1 83.24MB. Se removermos da nossa query o filtro da parti\u00e7\u00e3o o GCP processar\u00e1 13.37GB! Bem mais do que a query anterior \ud83e\udd2f! Voc\u00ea pode estar pensando \ud83e\udd14: \u201cClaro que a query consumir\u00e1 mais! Voc\u00ea tem um filtro a menos nessa query.\u201d Para rebater essa cr\u00edtica vamos comparar a query anterior com uma sem filtro nenhum: Nesse caso, o CGP ir\u00e1 processar a mesma quantidade de GB que a query em que n\u00e3o utilizamos a coluna de parti\u00e7\u00e3o \ud83e\udd13! Ent\u00e3o lembre-se: sempre use a coluna de parti\u00e7\u00e3o quando sua tabela permitir \ud83d\ude09! 4 - JOIN Para melhorar a efici\u00eancia dos JOIN podemos: reduzir a quantidade de dados das tabelas antes de uma cl\u00e1usula JOIN. Quanto antes reduzirmos a quantidade de dados, menos processamento iremos exigir. sempre que poss\u00edvel, utilize colunas de inteiros para realizar o join entre tabelas.","title":"Dicas para reduzir o custo de uma query no GCP"},{"location":"tutoriais/como-acessar-dados/#referencias","text":"Documenta\u00e7\u00e3o oficial da GCP Cota gratuita da GCP Documenta\u00e7\u00e3o oficial do BigQuery Melhores pr\u00e1ticas para reduzir custos Documenta\u00e7\u00e3o oficial da basedosdados","title":"Refer\u00eancias"}]}